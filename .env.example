# ===========================================
# Mohe Platform - Environment Configuration
# ===========================================
# IMPORTANT: Copy this file to .env and fill in your actual values
# DO NOT commit .env file to git (already in .gitignore)

# ===========================================
# Database Configuration
# ===========================================
POSTGRES_DB=mohe_db
POSTGRES_USER=mohe_user
POSTGRES_PASSWORD=mohe_password
POSTGRES_PORT=5432
DB_USERNAME=mohe_user
DB_PASSWORD=mohe_password

# ===========================================
# Service Ports
# ===========================================
BACKEND_PORT=8080
FRONTEND_PORT=3000
BATCH_WEB_PORT=8082
BATCH_WEB_MANAGEMENT_PORT=8083
BATCH_PROCESSOR_PORT=8084
BATCH_PROCESSOR_MANAGEMENT_PORT=8085
MOCK_API_PORT=3001
PROMETHEUS_PORT=9090
GRAFANA_PORT=3002

# ===========================================
# JWT Security
# ===========================================
JWT_SECRET=your-secret-key-change-in-production-minimum-64-chars

# ===========================================
# External API Keys
# ===========================================
# Naver Place API (장소 검색)
NAVER_CLIENT_ID=your_naver_client_id
NAVER_CLIENT_SECRET=your_naver_client_secret

# OpenAI API (텍스트 생성)
OPENAI_API_KEY=your_openai_api_key
OPENAI_MODEL=gpt-3.5-turbo
IS_OPENAI_ACTIVE=true

# Google Places API (장소 상세정보)
GOOGLE_PLACES_API_KEY=your_google_places_api_key

# Google Custom Search (검색 엔진)
GOOGLE_CUSTOM_SEARCH_API_KEY=
GOOGLE_CUSTOM_SEARCH_ENGINE_ID=

# Gemini API (이미지 생성)
GEMINI_API_KEY=your_gemini_api_key
GEMINI_BASE_URL=https://generativelanguage.googleapis.com/v1beta

# OpenWeatherMap API (날씨)
OPENWEATHERMAP_API_KEY=your_openweathermap_api_key

# ===========================================
# 정부 공공데이터 API Keys
# ===========================================
GOVT_API_KEY=your_govt_api_key_here
VWORLD_API_KEY=your_vworld_api_key_here
SGIS_API_KEY=your_sgis_api_key_here

# ===========================================
# Email Configuration (SMTP)
# ===========================================
MAIL_HOST=smtp.gmail.com
MAIL_PORT=587
MAIL_USERNAME=your_email@gmail.com
MAIL_PASSWORD=your_app_specific_password
MAIL_SMTP_AUTH=true
MAIL_SMTP_STARTTLS=true
MAIL_SMTP_STARTTLS_REQUIRED=true
MAIL_SMTP_SSL_TRUST=smtp.gmail.com
MAIL_DEBUG=false

# ===========================================
# Ollama Configuration (AI 임베딩)
# ===========================================
OLLAMA_HOST=http://ollama:11434
OLLAMA_BASE_URL=http://192.168.219.127:11434
OLLAMA_MODEL=mxbai-embed-large
OLLAMA_TEXT_MODEL=gpt-oss:20b
OLLAMA_EMBEDDING_MODEL=mxbai-embed-large:latest
OLLAMA_TIMEOUT=120

# ===========================================
# Web Crawler Configuration (Python 서버)
# ===========================================
CRAWLER_SERVER_URL=http://localhost:5000
CRAWLER_API_PATH=/api/crawl
CRAWLER_ENHANCE_WITH_GOOGLE=false

# ===========================================
# Batch Job Configuration
# ===========================================
BATCH_CHUNK_SIZE=10
BATCH_SKIP_LIMIT=10000
API_PAGE_SIZE=100
API_MAX_PAGES=50
API_TIMEOUT=30
APP_BATCH_AUTO_START=true
APP_BATCH_SCHEDULING_ENABLED=true
APP_BATCH_SCHEDULING_CRON=0 */1 * * * ?
APP_BATCH_CHUNK_SIZE=50
APP_BATCH_CONTINUOUS_ENABLED=true
MAX_CONCURRENCY=4

# ===========================================
# Recommendation Algorithm Weights
# ===========================================
# 추천 알고리즘 파라미터
MOHE_TOP_K=100
MOHE_MIN_PLACES_THRESHOLD=50

# 유사도 가중치
MOHE_WEIGHT_JACCARD=0.7
MOHE_WEIGHT_COSINE=0.3

# MBTI 가중치
MOHE_WEIGHT_MBTI_BOOST=0.3
MOHE_WEIGHT_POPULARITY_PENALTY=0.1
MOHE_WEIGHT_SAME_MBTI=2.0
MOHE_WEIGHT_DIFF_MBTI=1.0

# 시간 감쇠 함수
MOHE_TIME_DECAY_TAU_DAYS=30

# 기능 플래그
MOHE_MBTI_SPECIFIC_ENABLED=false
MOHE_DIVERSITY_ENABLED=true

# ===========================================
# Spring Configuration
# ===========================================
SPRING_PROFILES_ACTIVE=docker
ENVIRONMENT=production
LOG_LEVEL=INFO

# ===========================================
# Monitoring (Grafana)
# ===========================================
GRAFANA_PASSWORD=admin
